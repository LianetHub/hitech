(()=>{"use strict";function e(e,t,s,o){void 0===t&&(t=400),void 0===o&&(o=!1),e.style.overflow="hidden",o&&(e.style.display="block");var i,n=window.getComputedStyle(e),r=parseFloat(n.getPropertyValue("height")),l=parseFloat(n.getPropertyValue("padding-top")),a=parseFloat(n.getPropertyValue("padding-bottom")),d=parseFloat(n.getPropertyValue("margin-top")),c=parseFloat(n.getPropertyValue("margin-bottom")),u=r/t,p=l/t,h=a/t,w=d/t,v=c/t;window.requestAnimationFrame((function n(_){void 0===i&&(i=_);var g=_-i;o?(e.style.height=u*g+"px",e.style.paddingTop=p*g+"px",e.style.paddingBottom=h*g+"px",e.style.marginTop=w*g+"px",e.style.marginBottom=v*g+"px"):(e.style.height=r-u*g+"px",e.style.paddingTop=l-p*g+"px",e.style.paddingBottom=a-h*g+"px",e.style.marginTop=d-w*g+"px",e.style.marginBottom=c-v*g+"px"),g>=t?(e.style.height="",e.style.paddingTop="",e.style.paddingBottom="",e.style.marginTop="",e.style.marginBottom="",e.style.overflow="",o||(e.style.display="none"),"function"==typeof s&&s()):window.requestAnimationFrame(n)}))}document.addEventListener("DOMContentLoaded",(()=>{const e={isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},userAgent:function(){return/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent)},any:function(){return e.isTouchDevice()||e.userAgent()}};function t(){const t=document.body;e.any()||window.innerWidth<992?(t.classList.remove("_pc"),t.classList.add("_touch")):(t.classList.remove("_touch"),t.classList.add("_pc"))}t(),window.addEventListener("resize",t);var s=document.querySelectorAll('input[type="tel"]'),o=function(e){return e.value.replace(/\D/g,"")},i=function(e){var t=e.target,s=o(t),i=e.clipboardData||window.clipboardData;if(i){var n=i.getData("Text");if(/\D/g.test(n))return void(t.value=s)}},n=function(e){var t=e.target,s=o(t),i=t.selectionStart,n="";if(!s)return t.value="";if(t.value.length==i){if(["7","8","9"].indexOf(s[0])>-1){"9"==s[0]&&(s="7"+s);var r="8"==s[0]?"8":"+7";n=t.value=r+" ",s.length>1&&(n+="("+s.substring(1,4)),s.length>=5&&(n+=") "+s.substring(4,7)),s.length>=8&&(n+="-"+s.substring(7,9)),s.length>=10&&(n+="-"+s.substring(9,11))}else n="+"+s.substring(0,16);t.value=n}else e.data&&/\D/g.test(e.data)&&(t.value=s)},r=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var l of s)l.addEventListener("keydown",r),l.addEventListener("input",n,!1),l.addEventListener("paste",i,!1);function a(){document.querySelector(".search").classList.remove("active")}function d(e,t){let s=!1,o=null;function i(){window.innerWidth<=767.98?s||(s=!0,o=new Swiper(e,t)):s&&(o.destroy(),o=null,s=!1)}i(),window.addEventListener("resize",i)}document.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("search__btn")&&(document.querySelector(".search").classList.contains("active")?a():(document.querySelector(".search").classList.add("active"),setTimeout((()=>{document.querySelector(".search__form-input").focus()}),500))),(t.closest(".icon-menu")||t.classList.contains("menu__close"))&&(document.querySelector(".header").classList.toggle("open-menu"),function(e){const t=document.body;let s,o="lock";t.classList.contains(o)?(s=parseInt(document.body.dataset.position,10),t.dataset.position=s,t.style.top=-s+"px"):(s=window.scrollY,t.style.top="auto",window.scroll({top:s,left:0}),document.body.removeAttribute("data-position"));let i=t.classList.contains(o)?"0px":window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";t.style.paddingRight=i,t.classList.toggle(o)}()),t.classList.contains("menu__arrow")){let e=t.nextElementSibling;document.querySelector(".menu__arrow.active")!==t&&(document.querySelector(".submenu.open")&&document.querySelector(".submenu.open").classList.remove("open"),document.querySelector(".menu__arrow.active")&&document.querySelector(".menu__arrow.active").classList.remove("active")),e.classList.toggle("open"),t.classList.toggle("active")}t.matches(".article__full")&&(t.classList.toggle("active"),t.parentNode.classList.toggle("active"),t.classList.contains("active")?t.textContent="Скрыть":t.textContent="Развернуть")})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&document.querySelector(".search").classList.contains("active")&&a()})),document.querySelector(".search__form-input")?.addEventListener("blur",a),document.querySelector(".promo__slider")&&new Swiper(".promo__slider",{slidesPerView:"auto",spaceBetween:16,breakpoints:{991.98:{slidesPerView:3}}}),document.querySelector(".cases__slider-block")&&new Swiper(".cases__slider-block",{spaceBetween:15,slidesPerView:1,watchSlidesProgress:!0,navigation:{nextEl:".cases__next",prevEl:".cases__prev"},breakpoints:{991.98:{slidesPerView:2,spaceBetween:18}}}),document.querySelector(".support__slider")&&new Swiper(".support__slider",{slidesPerView:"auto",spaceBetween:30,breakpoints:{1279.98:{slidesPerView:4}}}),document.querySelector(".reviews__slider")&&new Swiper(".reviews__slider",{spaceBetween:30,navigation:{nextEl:".reviews__next",prevEl:".reviews__prev"},pagination:{el:".reviews__pagination",clickable:!0},breakpoints:{575.98:{slidesPerView:2},991.98:{slidesPerView:3},1439.98:{slidesPerView:4}}}),document.querySelector(".news__slider")&&new Swiper(".news__slider",{spaceBetween:30,navigation:{nextEl:".news__next",prevEl:".news__prev"},pagination:{el:".news__pagination",clickable:!0},breakpoints:{575.98:{slidesPerView:2},991.98:{slidesPerView:3},1439.98:{slidesPerView:4}}}),document.querySelector(".services__slider")&&d(".services__slider",{autoHeight:!0,pagination:{el:".services__pagination",clickable:!0}}),document.querySelectorAll(".products__slider").length>0&&document.querySelectorAll(".products__slider").forEach((function(e){d(e,{slidesPerView:"auto",spaceBetween:10,pagination:{el:e.querySelector(".products__pagination"),clickable:!0}})}));const c=document.querySelectorAll("[data-spollers]");if(c.length>0){const p=Array.from(c).filter((function(e,t,s){return!e.dataset.spollers.split(",")[0]}));p.length>0&&w(p);const h=Array.from(c).filter((function(e,t,s){return e.dataset.spollers.split(",")[0]}));if(h.length>0){const m=[];h.forEach((e=>{const t={},s=e.dataset.spollers.split(",");t.value=s[0],t.type=s[1]?s[1].trim():"max",t.item=e,m.push(t)}));let y=m.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));y=y.filter((function(e,t,s){return s.indexOf(e)===t})),y.forEach((e=>{const t=e.split(","),s=t[1],o=t[2],i=window.matchMedia(t[0]),n=m.filter((function(e){if(e.value===s&&e.type===o)return!0}));i.addEventListener("change",(function(){w(n,i)})),w(n,i)}))}function w(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),v(e),e.addEventListener("click",_)):(e.classList.remove("_init"),v(e,!1),e.removeEventListener("click",_))}))}function v(e,t=!0){const s=e.querySelectorAll("[data-spoller]");s.length>0&&s.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function _(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const s=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),o=s.closest("[data-spollers]"),i=!!o.hasAttribute("data-one-spoller");o.querySelectorAll("._slide").length||(i&&!s.classList.contains("_active")&&g(o),s.classList.toggle("_active"),s.nextElementSibling.slideToggle(300)),e.preventDefault()}}function g(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),t.nextElementSibling.slideUp(300))}}class u{static openDropdown=null;constructor(e){this.$select=e,this.placeholder=this.$select.dataset.placeholder,this.listCaption=this.$select.dataset.listCaption,this.defaultText=this.getDefaultText(),this.selectName=this.$select.getAttribute("name"),this.$options=this.$select.querySelectorAll("option"),this.$dropdown=null,this.initialState={},this.init()}init(){this.$select&&(this.saveInitialState(),this.$select.classList.add("hidden"),this.renderDropdown(),this.setupEvents())}saveInitialState(){const e=this.$select.options[this.$select.selectedIndex];this.initialState={selectedText:e.text,selectedValue:e.value}}getDefaultText(){const e=this.$select.querySelector("option[selected]");return e?e.text:this.placeholder||this.$select.options[this.$select.selectedIndex].text}renderDropdown(){const e=`\n            <button type="button" class="dropdown__button icon-chevron" \n                    aria-expanded="false" \n                    aria-haspopup="true" \n                    ${this.$select.disabled?"disabled":""}>\n                <span class="dropdown__button-text">${this.defaultText}</span>\n            </button>\n        `;this.$dropdown=document.createElement("div"),this.$dropdown.classList.add("dropdown");const t=this.listCaption?`<div class="dropdown__caption">${this.listCaption}</div>`:"";this.$dropdown.innerHTML=`\n            ${e}\n            <div class="dropdown__body" aria-hidden="true">\n               <div class="dropdown__content">\n                    ${t}\n                    <ul class="dropdown__list" role="listbox"></ul>\n                </div>\n            </div>\n        `;const s=this.$dropdown.querySelector(".dropdown__list");this.$options.forEach((e=>{const t=e.value,o=e.text,i=e.selected,n=e.disabled,r=document.createElement("li");r.setAttribute("role","option"),r.setAttribute("data-value",t),r.setAttribute("aria-checked",i),r.classList.add("dropdown__list-item"),i&&r.classList.add("selected"),n&&r.classList.add("disabled"),n&&r.setAttribute("aria-disabled","true"),r.textContent=o,s.appendChild(r)})),this.$select.after(this.$dropdown)}setupEvents(){this.$dropdown.querySelector(".dropdown__button").addEventListener("click",(e=>{e.stopPropagation();const t=this.$dropdown.classList.contains("visible");this.toggleDropdown(!t)})),this.$dropdown.querySelectorAll(".dropdown__list-item").forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),e.classList.contains("disabled")||this.selectOption(e)}))})),document.addEventListener("click",(()=>this.closeDropdown())),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.closeDropdown()})),this.$select.closest("form").addEventListener("reset",(()=>this.restoreInitialState())),new MutationObserver((()=>{const e=this.$select.disabled;this.$dropdown.querySelector(".dropdown__button").disabled=e})).observe(this.$select,{attributes:!0,attributeFilter:["disabled"]}),new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"disabled"===e.attributeName){const t=e.target,s=t.value,o=t.disabled,i=this.$dropdown.querySelector(`.dropdown__list-item[data-value="${s}"]`);i.classList.toggle("disabled",o),o?i.setAttribute("aria-disabled","true"):i.removeAttribute("aria-disabled")}"attributes"===e.type&&"selected"===e.attributeName&&this.syncSelectedOption()}))})).observe(this.$select,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["selected","disabled"]})}toggleDropdown(e){e&&u.openDropdown&&u.openDropdown!==this&&u.openDropdown.closeDropdown();const t=this.$dropdown.querySelector(".dropdown__body"),s=this.$dropdown.querySelector(".dropdown__list"),o=s.scrollHeight>s.clientHeight;if(this.$dropdown.classList.toggle("visible",e),this.$dropdown.querySelector(".dropdown__button").setAttribute("aria-expanded",e),t.setAttribute("aria-hidden",!e),e){u.openDropdown=this,this.$dropdown.classList.remove("dropdown-top");const e=t.getBoundingClientRect(),i=window.innerHeight;e.bottom>i&&this.$dropdown.classList.add("dropdown-top"),s.classList.toggle("has-scroll",o)}else u.openDropdown===this&&(u.openDropdown=null)}closeDropdown(){this.toggleDropdown(!1)}selectOption(e){const t=e.dataset.value,s=e.textContent;this.$dropdown.querySelectorAll(".dropdown__list-item").forEach((e=>{e.classList.remove("selected"),e.setAttribute("aria-checked","false")})),e.classList.add("selected"),e.setAttribute("aria-checked","true"),this.$dropdown.querySelector(".dropdown__button").classList.add("selected"),this.$dropdown.querySelector(".dropdown__button-text").textContent=s,this.$select.value=t,this.$select.dispatchEvent(new Event("change")),this.closeDropdown()}restoreInitialState(){if(void 0!==this.placeholder)this.$select.selectedIndex=-1,this.$dropdown.querySelector(".dropdown__button-text").textContent=this.placeholder,this.$dropdown.querySelector(".dropdown__button").classList.remove("selected"),this.$dropdown.querySelectorAll(".dropdown__list-item").forEach((e=>{e.classList.remove("selected"),e.setAttribute("aria-checked","false")})),this.$select.dispatchEvent(new Event("change"));else{const e=this.initialState;this.$select.value=e.selectedValue,this.$select.dispatchEvent(new Event("change")),this.$dropdown.querySelectorAll(".dropdown__list-item").forEach((e=>{e.classList.remove("selected"),e.setAttribute("aria-checked","false")}));const t=this.$dropdown.querySelector(`.dropdown__list-item[data-value="${e.selectedValue}"]`);t&&(t.classList.add("selected"),t.setAttribute("aria-checked","true")),this.$dropdown.querySelector(".dropdown__button-text").textContent=e.selectedText,this.$dropdown.querySelector(".dropdown__button").classList.add("selected")}}syncSelectedOption(){const e=this.$select.options[this.$select.selectedIndex],t=e.value,s=e.text;this.$dropdown.querySelectorAll(".dropdown__list-item").forEach((e=>{e.classList.remove("selected"),e.setAttribute("aria-checked","false")}));const o=this.$dropdown.querySelector(`.dropdown__list-item[data-value="${t}"]`);o.classList.add("selected"),o.setAttribute("aria-checked","true"),this.$dropdown.querySelector(".dropdown__button-text").textContent=s}}document.querySelectorAll(".select")?.forEach((e=>{new u(e)}))})),"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),HTMLElement.prototype.slideToggle=function(t,s){0===this.clientHeight?e(this,t,s,!0):e(this,t,s)},HTMLElement.prototype.slideUp=function(t,s){e(this,t,s)},HTMLElement.prototype.slideDown=function(t,s){e(this,t,s,!0)}})();